<div class="hbox hbox-auto-xs hbox-auto-sm" ng-controller="AccountController">
    <div class="col">
        <toaster-container toaster-options="{'position-class': 'toast-bottom-right', 'close-button':true}"></toaster-container>
        <div class="bg-light lter b-b wrapper-md">
            <div class="row">
                <div class="col-sm-6 col-xs-12">
                    <h1 class="m-n font-thin h3 text-black" translate="nav.ACCOUNT"></h1>
                    <small class="text-muted" translate="account.WELCOME"></small>
                </div>
            </div>
        </div>
        <div class="wrapper-md">
            <div class="row">
                <div class="col-md-12 text-center">
                    <div class="r bg-light dker item hbox no-border">
                        <div class="col w-xs v-middle" translate="account.BALANCE"></div>
                        <div class="col bg-info lter">
                            <div class="text-white font-thin h1">{{account.balance/100 | currency:""}} <span class="text-sm" translate="common.CURRENCY"></span></div>
                            <span class="text-xs text-danger-lter" translate="account.RECHARGE_TIP" ng-show="account.notEnoughBalance"></span>
                        </div>
                        <div class="col v-middle text-right">
                            <span ng-controller="RechargeModalCtrl">
                                <script type="text/ng-template" id="accountRecharge.html">
                                    <div ng-include="'tpl/account.recharge.html'"></div>
                                </script>
                                <button class="btn btn-success m-r-md" ng-click="open('lg')" translate="account.RECHARGE"></button>
                            </span>
                            <!--
                            <a class="btn btn-info m-r-md" translate="account.HISTORY" ui-sref="app.account_history({type:'all'})"></a>
                            -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="wrapper-md">
            <div class="row">
                <div class="col-md-6 text-center">
                    <div class="panel hbox hbox-auto-xs no-border">
                        <div class="col wrapper">
                            <h4 class="font-thin m-t-none m-b-none text-primary-lt" translate="account.CONSUMPTION_CHART_TITLE"></h4>
                            <span class="m-b block text-sm text-muted" translate="account.CONSUMPTION_CHART_DESC"></span>
                            <div ui-jq="plot" ui-options="
                                [
                                  { data: {{d4}}, lines: { show: true, lineWidth: 1, fill:true, fillColor: { colors: [{opacity: 0.2}, {opacity: 0.8}] } } }
                                ],
                                {
                                  colors: ['{{app.color.light}}'],
                                  series: { shadowSize: 3 },
                                  xaxis:{ show:false },
                                  yaxis:{ font: { color: '#a1a7ac' } },
                                  grid: { hoverable: true, clickable: true, borderWidth: 0, color: '#dce5ec' },
                                  tooltip: true,
                                  tooltipOpts: { content: '%s of %x.1 is %y.4',  defaultTheme: false, shifts: { x: 10, y: -25 } }
                                }
                                " style="height:400px" >
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <tabset class="nav-tabs-alt" justified="true">
                        <tab>
                            <tab-heading>
                                <i class="glyphicon glyphicon-plus text-lg text-muted wrapper-sm"></i>
                                <span class="text-lg text-muted" translate="account.RECHARGES"></span>
                            </tab-heading>
                            <div class="wrapper-md text-center">
                                <ul class="list-group no-bg no-borders pull-in" ng-repeat="recharge in account.recharges | limitTo:5">
                                    <li class="list-group-item">
                                        <div class="pull-left">{{recharge.id}}</div>
                                        <div class="pull-right">{{recharge.rechargeDatetime | date:"yyyy-MM-dd hh:mm:ss"}}</div>
                                        <div class="clear">
                                            <div>{{recharge.amount/100 | currency:"+"}}</div>
                                            <small class="text-muted" translate="account.enum.{{recharge.status}}"></small>
                                        </div>
                                    </li>
                                </ul>
                                <div class="text-center">
                                    <a href class="btn btn-sm btn-info padder-md m-b" translate="common.MORE" ng-show="account.moreRecharge" ui-sref="app.account_history({type:'recharge'})"></a>
                                </div>
                            </div>
                        </tab>
                        <tab>
                            <tab-heading>
                                <i class="glyphicon glyphicon-minus text-lg text-muted wrapper-sm"></i>
                                <span class="text-lg text-muted" translate="account.CONSUMPTIONS"></span>
                            </tab-heading>
                            <div class="wrapper">
                                <ul class="timeline" ng-repeat="consumption in account.consumptions | limitTo:5">
                                    <li class="tl-item">
                                        <div class="tl-wrap">
                                            <span class="tl-date">{{consumption.date}}</span>
                                            <div class="tl-content panel padder b-a w-md w-auto-xs">
                                                <span class="arrow left pull-up"></span>
                                                <div class="text-lt m-b-sm">{{consumption.desc}}</div>
                                                <div class="panel-body pull-in b-t b-light">{{consumption.amount/100 | currency:"-"}}</div>
                                            </div>
                                        </div>
                                    </li>
                                </ul>
                                <div class="text-center">
                                    <a href class="btn btn-sm btn-info padder-md m-b" translate="common.MORE" ng-show="account.moreConsumption" ui-sref="app.account_history({type:'consume'})"></a>
                            </div>
                        </div>
                    </tab>
                    </tabset>
                </div>
            </div>
        </div>
    </div>
</div>